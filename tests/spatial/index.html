<!DOCTYPE HTML>
<html>
<head>
  <title>Fullscreen: test page</title>
  <script>
        async function toggleFullScreen(element) {
            var mode = element.webkitPresentationMode;
            if (!element.fullscreenElement) {
                if (!!element.requestFullscreen)
                    await element.requestFullscreen();
                else if (!!element.webkitEnterFullscreen)
                    element.webkitEnterFullscreen();
                element.src = "../../mediatest/mp4/spatial/cat.mov";
                element.onloadedmetadata = () => {
                    element.play();
                }
            }
            else if (document.exitFullscreen)
                document.exitFullscreen();
        }

        window.onload = async function() {
            const id = 'log';

            video.src = "../../mediatest/mp4/spatial/cat.mov";
            video.preload = "auto";

            video.controls = true;

            var button1 = document.createElement("BUTTON");
            button1.innerText = "Video Fullscreen";
            document.body.appendChild(button1);
            button1.onclick = toggleFullScreen.bind(null, video);

            var div = document.getElementById("videodiv");
            var button2 = document.createElement("BUTTON");
            button2.innerText = "Div Element Fullscreen";
            document.body.appendChild(button2);
            button2.onclick = toggleFullScreen.bind(null, div);
        };
    </script>
<body>
    <div id="videodiv" style="width: 320px; height: 240px">
        <video id='video' style="object-fit: cover;" width="100%" height="100%" fullscreen loop></video>
    </div>
</body>
</html>
